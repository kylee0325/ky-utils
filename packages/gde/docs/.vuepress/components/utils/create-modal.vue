<template>
    <div>
        <p>ç‚¹å‡»æŒ‰é’®æ‰“å¼€å¼¹çª—</p>
        <g-button type="primary" @click="handleClick">ç¡®å®š</g-button>
    </div>
</template>
<script>
import { createModal } from '@gde/utils';
import Modal from './modal.vue';

function delay(ms) {
    return new Promise((resolve) => setTimeout(resolve, ms));
}

export default {
    setup() {
        const handleClick = () => {
            createModal(Modal, {
                props: { selectedList: [] },
                async onOk(res) {
                    console.log('ðŸš€ ~ onOk ~ res', res);
                    await delay(1500);
                    return res.length > 0;
                },
                onCancel(res) {
                    console.log('ðŸš€ ~ onCancel ~ res', res);
                },
            }).then((res) => {
                console.log('res', res);
            });
        };

        return {
            handleClick,
        };
    },
};
</script>
